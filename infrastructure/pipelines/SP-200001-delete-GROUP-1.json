{
    "Comment": "SP-200001-delete - ETL to delete from loan_lender_user_access",
    "StartAt": "SP-200001-delete",
    "States": {
        "SP-200001-delete": {
            "Type": "Parallel",
            "End": true,
            "Branches": [
                {
                    "Comment": "SP-200001-delete-0 - ETL to delete from loan_lender_user_access_0 partition",
                    "StartAt": "SP-200001-delete-0",
                    "States": {
                        "SP-200001-delete-0": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-0"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-1 - ETL to delete from loan_lender_user_access_1 partition",
                    "StartAt": "SP-200001-delete-1",
                    "States": {
                        "SP-200001-delete-1": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-1"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-2 - ETL to delete from loan_lender_user_access_2 partition",
                    "StartAt": "SP-200001-delete-2",
                    "States": {
                        "SP-200001-delete-2": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-2"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-3 - ETL to delete from loan_lender_user_access_3 partition",
                    "StartAt": "SP-200001-delete-3",
                    "States": {
                        "SP-200001-delete-3": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-3"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-4 - ETL to delete from loan_lender_user_access_4 partition",
                    "StartAt": "SP-200001-delete-4",
                    "States": {
                        "SP-200001-delete-4": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-4"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-5 - ETL to delete from loan_lender_user_access_5 partition",
                    "StartAt": "SP-200001-delete-5",
                    "States": {
                        "SP-200001-delete-5": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-5"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-6 - ETL to delete from loan_lender_user_access_6 partition",
                    "StartAt": "SP-200001-delete-6",
                    "States": {
                        "SP-200001-delete-6": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-6"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-7 - ETL to delete from loan_lender_user_access_7 partition",
                    "StartAt": "SP-200001-delete-7",
                    "States": {
                        "SP-200001-delete-7": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-7"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-8 - ETL to delete from loan_lender_user_access_8 partition",
                    "StartAt": "SP-200001-delete-8",
                    "States": {
                        "SP-200001-delete-8": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-8"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-9 - ETL to delete from loan_lender_user_access_9 partition",
                    "StartAt": "SP-200001-delete-9",
                    "States": {
                        "SP-200001-delete-9": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-9"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                },
                {
                    "Comment": "SP-200001-delete-10 - ETL to delete from loan_lender_user_access_10 partition",
                    "StartAt": "SP-200001-delete-10",
                    "States": {
                        "SP-200001-delete-10": {
                            "Type": "Task",
                            "Resource": "arn:aws:states:::ecs:runTask.sync",
                            "Parameters": {
                                "LaunchType": "FARGATE",
                                "Cluster": "${ecsClusterARN}",
                                "TaskDefinition": "${mdi_2_arn}",
                                "NetworkConfiguration": {
                                    "AwsvpcConfiguration": {
                                        "AssignPublicIp": "DISABLED",
                                        "SecurityGroups": [
                                            "${securityGroupId}"
                                        ],
                                        "Subnets": ${subnetIDs}
                                    }
                                },
                                "Overrides": {
                                    "Memory": "2048",
                                    "ContainerOverrides": [
                                        {
                                            "Memory": 2048,
                                            "Environment": [
                                                {
                                                    "Name": "PROCESS_NAME",
                                                    "Value": "SP-200001-delete-10"
                                                },
                                                {
                                                    "Name": "INPUT_DATA",
                                                    "Value.$": "States.Format('\\{\"token_id\":\"{}\",\"mdi_input_json\":{}\\}', $$.Task.Token, States.JsonToString($))"
                                                },
                                                {
                                                    "Name": "TOKEN_ID",
                                                    "Value.$": "$$.Task.Token"
                                                }
                                            ],
                                            "Name": "${mdi_2_container}"
                                        }
                                    ]
                                }
                            },
                            "Retry": [
                                {
                                    "ErrorEquals": [
                                        "States.TaskFailed"
                                    ],
                                    "IntervalSeconds": 10,
                                    "MaxAttempts": 5,
                                    "BackoffRate": 2.0
                                }
                            ],
                            "End": true
                        }
                    }
                }
            ]
        }
    }
}
